#+TITLE: my dotfiles
#+AUTHOR: Andrew Jarrett
#+EMAIL:ahrjarrett@gmail.com
#+DATE: 04/11/2019

My notes, scripts and dotfiles for setting up my dev environment on a new computer or a fresh OS X install.


- Fresh machine? Read the [[https://github.com/ahrjarrett/dotfiles#installation][Instructions]]
- Reformatting? See my [[https://github.com/ahrjarrett/dotfiles#preflight-checklist][Preflight Checklist]]
- Advanced usage? See the [[https://github.com/ahrjarrett/dotfiles#postinstall-checklist][Postinstall Checklist]]

* What it sets up

Tools:
- [[https://brew.sh/][Homebrew]] for managing operating system libraries
- [[https://github.com/ggreer/the_silver_searcher][The Silver Searcher]] or ~ag~ for finding things in files
- [[https://github.com/fish-shell/fish-shell][fish]] as your shell and [[https://github.com/jorgebucaran/fisher][fisher]] as its package manager
- [[https://httpie.org/][HTTPie]] as a command line client for making REST requests

Apps:
- See the [[https://github.com/ahrjarrett/dotfiles#installed-os-x-apps][list of applications]] installed by this script

Languages:
- [[https://docs.python.org/3/][Python 3]]
- [[https://nodejs.org][Node.js]], [[https://npmjs.com][npm]] and [[https://yarnpkg.com/en/][Yarn]] for running apps and installing JavaScript packages
- [[https://www.ruby-lang.org/en/][Ruby]] stable and [[https://github.com/rbenv/rbenv][rbenv]] for writing general-purpose code
- [[https://www.postgresql.org/][Postgres]] and [[https://www.mysql.com/][MySQL]] for relational data


* How it works

Upon bootstrap, every file and folder inside this repo is symlinked to your home directory.

_A file is *excluded* if_:
1. It's an ~.org~ or ~.md~ file (documentation)
2. It lives inside the ~.excludes/~ directory (files you can install manually go here)
3. It lives inside the ~scripts/~ directory
4. It's something you'd probably add to a ~/.gitignore~ file (for example ~/.DS_Store~)

See [[https://github.com/ahrjarrett/dotfiles/blob/master/bootstrap.exclude.sh#L5][excluded files regex]] to alter this behavior.

* Installation

1. Clone this repo
2. /Read the scripts/. You could catch on fire, your mom would be disappointed, etc. etc.
3. When you're ready run ~sh bootstrap.exclude.sh~

That's it! 

*Debugging:* See the [[https://github.com/ahrjarrett/dotfiles#postinstall-checklist][Postinstall Checklist]] below if something goes wrong (or if you're looking for a more advanced configuration).

*Note_:* It's worth mentioning that ~scripts/brew_install.sh~ /forces/ GUI app installations. Meaning if an app already exists in your Applications folder, _it will be removed and reinstalled_.

* Preflight Checklist

Reformatting your machine? Do this first:

** TODO 1. Clean up files

- [ ] Go through Documents & Downloads folder
- [ ] Go through Library/Contacts folder
- [ ] Big files like videos, tutorials & audio recordings go to Drive, Dropbox
- [ ] Notes & org-mode files go to Dropbox
- [ ] Documents, designs & current reading list go to iCloud
- [ ] $HOME folder, miscellaneous config files go to iCloud
- [ ] Copy .env files for bkwds, AWS apps, DigitalOcean & Pineneedles to iCloud dir
- [ ] eBook library goes to bitbucket

** TODO 2. Clean up projects

- [ ] Make sure you've committed and push all branches of active projects
- [ ] Make sure there are no orphans without remotes that you might care about
- [ ] ~.env files~! Double check that you got them all.
- [ ] Go through project directory (~stuff~, ~code~), and ugh -- /don't be a packrat/
  
** TODO 3. Backup dotfiles_stash

Make a quick sweep and grab what you can.

Copy/pasta what you find to an iCloud folder named ~dotfiles_stash~ 


* Postinstall Checklist

You just ran the bootstrap script. Cool. Here's some stuff you might consider next:

** TODO Configure Chrome

   
*** TODO 1. Import Google Profile

- [ ] Log into Google account(s)
- [ ] Run through list of required extensions below
- [ ] Upload ~vimium-settings.json~ file (~.exclude/chrome/vimium-options.json~)
- [ ] Import your bookmarks (or dare to start fresh?)
- [ ] Add custom Styler files from [[marketplace_customizations][https://github.com/ahrjarrett/marketplace-customizations]] repo
- [ ] [Optional] Go through tips & tricks section

*** TODO 2. Install Extensions

Visit [[chrome://extensions]] to see and configure your extensions

- [ ] JSONView -- /Configure:/ Allow incognito; Extension Options: Add dark theme
- [ ] Module Linker (for Github packages)
- [ ] Extension Icon React Developer Tools
- [ ] Styler Classic 
- [ ] React DevTools
- [ ] Redux DevTools -- /Configure:/ Allow access to file URLs = interactive debugging
- [ ] Vimium -- /Configure:/ See Vimium section
- [ ] +Open Multiple URLs+
- [ ] +Rearrange Tabs+
- [ ] +Reason Tools+
- [ ] +Surfingkeys+ -- /more powerful than Vimium, but with a steeper learning curve/
- [ ] +Yesware+
- [ ] +New Tab Redirect+ -- /Old redirect:/ [[chrome-extension://dbepggeogbaibhgnhhndojpepiihcmeb/pages/options.html]]
- [ ] +Google Docs Offline+ -- /creeped me out/


*** TODO 3. Customize Search Engines

**** Customize URL Bar Queries

*Shortcut:* 

1. Do ~Cmd + ,\~  anywhere in Chrome or navigate to [[chrome://settings]] 
2. Search for "Manage Search Engines"

*My Custom Queries:*

| Search engine          | Keyword | Query URL                                            |
|------------------------+---------+------------------------------------------------------|
| Chrome Pages           | chr     | chrome://%s                                          |
| deselectOmnibox        | q       | javascript:                                          |
| deselectOmnibox        | z       | javascript:                                          |
| Drive Images           | img     | https://drive.google.com/drive/u/0/search?q=%s       |
| GitHub                 | gh      | https://github.com/search?q=%s&ref=opensearch        |
| MarketPlace            | zz      | http://admin.austin.ownlocal.com/businesses?query=%s |
| marketplace ad search  | oo      | https://louismagdaleno.com/?q=%s                     |
| marketplace biz search | bz      | http://admin.austin.ownlocal.com/businesses/%s       |
| Chrome Pages           | chr     | chrome://%s                                          |
  

*** 4. Tips & Tricks

*Tip:* If you're looking to configure Chrome, [[chrome://chrome-urls]] is my favorite place to start.

It's basically a sitemap for everything configurable in Chrome. From there I access links like these:

- [[chrome://bookmarks]]
- [[chrome://flags]] -- /Chrome will do some really neat stuff if you know to ask it to/
- [[chrome://network-errors]]
- [[chrome://omnibox]]
- [[chrome://signin-internals]]
- [[chrome://site-engagement]] -- /basically a report card of all the sites that waste your time/
- [[chrome://user-actions]] -- /keep this open and it will log of your actions in the background. cool./
- chrome://quit -- /alt-f4 turns on god mode/

**** Flags (Experimental)

Here are some flags I like to turn on. Read what they do first, etc etc.

| Latest stable JavaScript features            | #disable-javascript-harmony-shipping | Enabled |
| 3D software rasterizer                       | #disable-software-rasterizer         | Enable  |
| Debugging for packed apps                    | #debug-packed-apps                   | Enabled |
| Hardware-accelerated video decode            | #disable-accelerated-video-decode    | Enabled |
| Creation of app shims for hosted apps on Mac | #disable-hosted-app-shim-creation    | Enabled |

If you're really feeling adventurous, check out [[https://www.google.com/chrome/canary/][Chrome Canary]].

** DONE Installed OS X Apps

*Complete!*

You already did this when you bootstraped. This step is no longer done manually.

However if the bootstrap failed you'll want to check if any of these failed to install:

- [x] Chrome [[https://www.google.com/chrome/b][Download]]
- [x] Dropbox [[https://www.dropbox.com/install][Download]]
- [x] Emacs (copy from iCloud if borked)
- [x] Keycastr [[https://github.com/keycastr/keycastr][Download]]
- [x] Sequel Pro [[https://sequelpro.com/download][Download]]
- [x] Sketch [[https://www.sketch.com/get/][Download]]
- [x] Slack [[https://slack.com/downloads/mac][Download]]
- [x] Spectacle [[https://www.spectacleapp.com/][Download]]
- [x] Spotify [[https://www.spotify.com/download][Download]]
- [x] The Unarchiver [[https://theunarchiver.com/][Download]]
- [x] VLC [[https://www.videolan.org/vlc/][Download]]
- [x] VS Code [[https://code.visualstudio.com/docs/?dv=osx][Download]]

** DONE Symlink dotfiles & configure shell

*Complete!*

You already did this when you bootstrapped. This step is no longer done manually.

If it turns out you're missing something from the dotfiles repo, check the iCloud ~dotfiles_stash~ backup you made during Preflight.


** Resources, random configs, secrets

Whoops, none of my config secrets live on Github.

Check iCloud for a file called ~random-configs.org~ for VPN config and other SSH logins.

Here's a nice guide on [[https://mac-how-to.gadgethacks.com/how-to/reformat-mac-os-x-without-recovery-disc-drive-0155591/][erasing your disk & reinstalling OS X]]